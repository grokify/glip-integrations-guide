# Dimelo Digital - Chat Bot integration guide

## Intention

The aim of this document is to describe the process of integrating a multi-channel bot into the Dimelo Digital platform. The tasks used to connect a bot to one of Dimelo’s sources can be used again for other sources.

Dimelo recommends using bots on private channels or at least on a third-party source connected via SDK. However Dimelo does not recommend its upload on public platforms such as Facebook, Twitter, etc because automatic messages are often banned.

A bot allows you to:

* prequalify a client inquiry
* take care of a request with low added-value
* retrieve information necessary to the processing of the request by an agent

**Please note: To this day Dimelo only supports messages in plain text format, Dimelo does not support enriched messages or HTML within the integration of a multi-channel bot. Dimelo is currently studying an extension to support enriched messages.**

The process of integrating a multi-channel bot that Dimelo recommends is described below.

## Prerequisites

This document aims to describe the process of integration of a multi-channel bot within Dimelo’s architecture. It does not describe the operating of the tools used for the integration nor does it explain the life-cycle of messages within Dimelo Digital. A thorough knowledge of Dimelo tools and of its operating is necessary to comprehend the entire process described in this documentation.

Below is a list of documentation that we recommend you read carefully beforehand:

* **DD Webhook API:** Functionality that allows automatic events concerning the message’s life-cycle from Dimelo Digital Platform to be sent to a predefined url
  * Documentation:​ ​https://bit.ly/dimelo_webhook_api
* **DD REST API:​** Dimelo Digital ‘s API which allows to retrieve data stored in it.
  * Documentation:​ ​https://bit.ly/dimelo_REST_API

## Functioning

The process of integrating a multi-channel bot prescribed by Dimelo is described below. In order to complete it effectively, the intervention of an external integrator and potentially of other contractors may be necessary. All interactions and actions between Dimelo Digital and the other components must transit through a proxy, which can be either included within the bot or be the link between the bot’s API’s and Dimelo’s. The proxy will be in charge of retrieving events sent by Dimelo, to generate API requests necessary to the interaction between Dimelo and the IA, and to format answers generated by the IA, etc.

<<IMAGE>>

The main advantage of this architecture is the flexibility of integration it allows to the intermediary, the proxy, installed between the Dimelo environment and the AI.


### Description of the components
You will find below the description of different elements composing the integration architecture of a multi-channel bot between the Dimelo Digital tool and the AI.

#### Dimelo Components

The detail of the components managed and/or provided by Dimelo is explained here:

**Dimelo Digital:**

Dimelo Digital is a platform within which your customer care agents connect in order to answer messages that are routed to them from varied connected channels. The platform allows you:

* To insure a consistent level of service for all customers by orienting the inquiries according to your SLA, customer’s profiles, and the availabilities of your resources.
* To streamline all different flux descended from social media, emails, forums, etc in order to guarantee an efficient operating system, traced exchanges, and treatment of interactions on a larger scale.
* To give you the tools to become more efficient and to pleasantly surprise your customers which will turn them into your first ambassadors. To go from one social identity to another to answer customers wherever they find themselves.
* To promote a better processing of customer inquiries by rerouting messages to the appropriate experts, suggesting answers, and filtering messages hindering the processing of the request since Dimelo Digital is established on a self-learning algorithm to identify the reasons of contact.

*Webhook API:* API sending automatic events linked to the life-cycle of messages managed by agents towards an established endpoint. For example, an event is automatically sent when a message arrives in the Dimelo Digital platform. The event is sent by HTTP request in JSON format and contains the message’s data (type of action carried out, date of the action, information specific to the message, ...).

*REST API Dimelo Digital:* API that enables to access data stored in Dimelo Digital. To access this data you need to acquire a valid ID token and have all the rights entitling you to access the information you are looking for. This API will retrieve the data relative to customer advisors, different user entities (Facebook, Twitter, Forum,...), interventions, messages,...

This component can be useful to retrieve additional data that might not have been correctly sent to the proxy through Dimelo Digital via Webhook events.

#### Components integration/bot

The components managed and/or provided by the integrator are specified in this section.

**AI:**
Component that generates answers automatically depending on the messages submitted by the proxy. This component can replace the agent for a first-level treatment of customer inquiries. In the case where the component is no longer able to answer, the conversation will be transferred to an agent.

**Proxy:**
Server hosting an app (server-side), this component is at the heart of the integration of Dimelo Digital and the AI. This component is in charge of nearly all the interactions between Dimelo Digital and the AI:

* Inboxing events and generating automatic actions from the AI’s side
* Recovering additional data via APIs that Dimelo provides
* Relaying messages received by Dimelo Digital towards the AI
* Formating answers that the AI will give
* Send answers generated by the AI to Dimelo Digital

*Recommendation:​* The proxy must be accessible in HTTPS format for obvious privacy reasons, to
encrypt the stream of data travelling between the component and Dimelo Digital.

### Implementation

Below is the detail of the different informations you will have to provide while initializing the multi-channel bot, as well as the outlines of each part and the condition tests to be done at the moment of launching of the integration.

#### Data to submit

A certain amount of data and actions are required to launch a multi-channel bot integration project, outside of the information relative to the setup of Dimelo Digital. These informations are listed below by party:

**On Dimelo’s part:**

* Account to access Dimelo Digital
* Token with all the necessary clearances to access Dimelo Digital’s APIs
Implementation

**On the integrator’s side**

* List of requested events and endpoint for the usage of API webhook
* Information relative to the setup of a bot agent account
* Categories allowing to go from a bot conversation to an agent

#### Outlines

Below are the outlines of steps to follow for each part of the integration process of a multi-channel bot:

**On Dimelo’s part**

* Configuration specific to Dimelo’s tools (creation of accounts, webhook configuration, APP SDK configuration, API access creation,...)
* Provide documentation detailing Dimelo’s tools
* Support to technical teams engaged in the integration alongside Dimelo tools on the
client’s part.

**On the integrator’s part:**

* Setup of the proxy and of all the actions linked to this (inflow supervision, API calls, logic application, liabilities management)
* Setup of the API initiating automatic answers


Bot to agent transfer
In the case where the bot is no longer able to answer, the proxy will transfer the conversation to an agent. This transfer is managed by Dimelo via a modification of category. By default, conversations managed by the bot will have a category accessible only by the agent responsible for the bot. During the transfer, it is necessary to recategorize the conversation by using a category accessible to agents. The integrators can use this solution to implement the handover.
Recategorizing the conversation thread via API:
The integrator must recategorize the thread via REST Dimelo API (see section technical integration > Recategorizing a conversation). The integrator must attribute an available category so that the conversation is visible to agents.
Testing process
During the testing process, it is recommended to use a source for the test. This allows to test the integration of the multi-channel bot on Dimelo’s side in the real conditions of production without impacting all agents already using Dimelo Digital.